SELECT MID(codigoadm,1,2) codigo,
SUM(a.asignacion) asignacion,
SUM(IF(faudis>=20150101 AND faudis<=20150827,a.aumento,0)+IF(ftrasla>=20150101 AND ftrasla <=20150827 AND traslados>0,traslados,0)) incrementos, 
SUM(IF(faudis>=20150101 AND faudis<=20150827,a.disminucion,0)+IF(ftrasla>=20150101 AND ftrasla <=20150827 AND traslados<0,-1*traslados,0)) disminuciones, 
SUM(a.asignacion+IF(faudis>=20150101 AND faudis<=20150827,a.aumento-a.disminucion,0)+IF(ftrasla>=20150101 AND ftrasla <=20150827 ,traslados,0)) final,
SUM(IF((fcomprome>=20150101 AND fcomprome<=20150827) OR (frendi>=20150101 AND frendi<=20150827),a.comprometido,0)) comprometido, 
SUM(IF((fcausado>=20150101 AND fcausado<=20150827) OR (frendi>=20150101 AND frendi<=20150827),a.causado,0)) causado,
SUM(IF((fopago>=20150101 AND fopago<=20150827) OR (frendi>=20150101 AND frendi<=20150827),a.opago,0)) opago,
SUM(IF((fpagado>=20150101 AND fpagado<=20150827) OR (frendi>=20150101 AND frendi<=20150827),a.pagado,0)) pagado,
SUM((a.asignacion+IF(faudis>=20150101 AND faudis<=20150827,a.aumento-a.disminucion,0)+IF(ftrasla>=20150101 AND ftrasla <=20150827,a.traslados,0))-IF((fcomprome>=20150101 AND fcomprome<=20150827) OR (frendi>=20150101 AND frendi<=20150827),a.comprometido,0)) disponible
FROM view_pres_s1 a
WHERE 1=1 
 GROUP BY MID(codigoadm,1,2) 